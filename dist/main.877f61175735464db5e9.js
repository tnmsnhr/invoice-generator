"use strict";(self.webpackChunkinvoicefy=self.webpackChunkinvoicefy||[]).push([[792],{4222:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);const a=()=>(0,n.jsx)("div",{className:"LHvhneKHokp0fMMOhmMg"})},1294:(e,s,t)=>{t.d(s,{t:()=>o,d:()=>l});var n=t(4848);const a=({type:e,message:s,onClose:t})=>(0,n.jsxs)("div",Object.assign({className:"P1C4IecSZ1gwYyDDAxFA",style:{backgroundColor:(()=>{switch(e){case"info":default:return"#007bff";case"error":return"#dc3545";case"warning":return"#ffc107";case"success":return"#28a745"}})()}},{children:[(0,n.jsx)("div",{children:s}),(0,n.jsx)("button",Object.assign({onClick:t,style:{background:"transparent",border:"none",color:"#fff",fontSize:"16px",cursor:"pointer",marginLeft:"20px"}},{children:"Ã—"}))]})),i=({toasts:e,removeToast:s})=>(0,n.jsx)("div",{children:e.map((e=>(0,n.jsx)(a,{type:e.type,message:e.message,onClose:()=>s(e.id)},e.id)))});var c=t(6540);const r=(0,c.createContext)(void 0),l=()=>{const e=(0,c.useContext)(r);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},o=({children:e})=>{const[s,t]=(0,c.useState)([]),a=(0,c.useCallback)(((e,s)=>{const n=(new Date).getTime();t((t=>[...t,{id:n,type:e,message:s}])),setTimeout((()=>{t((e=>e.filter((e=>e.id!==n))))}),3e3)}),[]);return(0,n.jsxs)(r.Provider,Object.assign({value:{addToast:a}},{children:[e,(0,n.jsx)(i,{toasts:s,removeToast:e=>{t((s=>s.filter((s=>s.id!==e))))}})]}))}},3728:(e,s,t)=>{var n=t(4848),a=t(6540),i=t(5338),c=t(1468),r=t(4644),l=t(9282),o=t(1370),d=t(4035);const j={loading:!1,invoices:[],error:null,selectedInvoice:null},u={loading:!1,customers:[],error:null,selectedCustomer:null},g={drafts:[]},E=(0,o.l1)((e=>({selectedInvoice:e.selectedInvoice})),((e,s)=>e),{whitelist:["invoices"]}),b=(0,o.l1)((e=>({selectedCustomer:e.selectedCustomer})),((e,s)=>e),{whitelist:["customers"]}),O={key:"root",storage:l.A,whitelist:["invoices","drafts","customers"],transforms:[E,b]},h=(0,r.HY)({invoices:(e=j,s)=>{var t;switch(s.type){case d.m5:return Object.assign(Object.assign({},e),{loading:!0,error:null});case d.i_:return Object.assign(Object.assign({},e),{loading:!1,error:null,invoices:s.payload});case d.rL:return Object.assign(Object.assign({},e),{loading:!1,error:s.payload,invoices:[]});case d._w:return Object.assign(Object.assign({},e),{selectedInvoice:s.payload});case d.Vu:const n=s.payload;if(n){const e=null===(t=null==n?void 0:n.itemsDetails)||void 0===t?void 0:t.reduce(((e,s)=>e+=(null==s?void 0:s.price)*(null==s?void 0:s.quantity)-(null==s?void 0:s.discount)),0);n.total=+(null==e?void 0:e.toFixed(2))}return Object.assign(Object.assign({},e),{selectedInvoice:n});case d.Es:const a=s.payload,i=Object.assign({},e).invoices.filter((e=>e.id!=a));return Object.assign(Object.assign({},e),{loading:!1,invoices:i});default:return e}},customers:(e=u,s)=>{switch(s.type){case d.Hu:return Object.assign(Object.assign({},e),{loading:!0});case d.E1:return Object.assign(Object.assign({},e),{loading:!1});case d.hw:return Object.assign(Object.assign({},e),{loading:!1,customers:s.payload});case d.bs:return Object.assign(Object.assign({},e),{loading:!0});case d.Pj:return Object.assign(Object.assign({},e),{selectedCustomer:s.payload,error:null,loading:!1});case d.W:return Object.assign(Object.assign({},e),{selectedCustomer:null,error:s.payload,loading:!1});case d.rG:case d.Z4:return Object.assign(Object.assign({},e),{selectedCustomer:s.payload});default:return e}},drafts:(e=g,s)=>{switch(s.type){case d.CQ:const t=s.payload,n=[...e.drafts];return n.findIndex((e=>e.id==t.id))<0&&n.push(s.payload),Object.assign(Object.assign({},e),{drafts:n});case d.T0:const a=s.payload,i=[...e.drafts],c=i.findIndex((e=>e.id==a));return c>=0&&i.splice(c,1),Object.assign(Object.assign({},e),{drafts:[...i]});default:return e}}}),v=(0,o.rL)(O,h);var C=t(7346);const m=r.Zz,x=(0,r.y$)(v,m((0,r.Tw)(C.P))),S=(0,o.GM)(x);var _=t(4976),T=t(7767);const p=()=>(0,n.jsxs)("nav",Object.assign({className:"navbar"},{children:[(0,n.jsx)("div",Object.assign({className:"brand"},{children:(0,n.jsxs)("h1",{children:["invoice",(0,n.jsx)("span",Object.assign({style:{color:"blue"}},{children:"fy"}))]})})),(0,n.jsx)("div",{className:"navbar-right"})]}));var f="y5fVeqFBAMwgZJd344mN",I=t(9879);const y=()=>(0,n.jsx)("aside",Object.assign({className:"Ww8CFbQCJ4qMtWZbZFBp"},{children:(0,n.jsxs)("ul",Object.assign({className:"QoUBvvxIZ9ns1MI6yVC0"},{children:[(0,n.jsx)("li",Object.assign({className:f},{children:(0,n.jsx)(_.k2,Object.assign({to:"/",className:({isActive:e})=>e||"/create-invoice"===window.location.pathname?"activated":""},{children:(0,n.jsx)(I.$em,{size:24})}))})),(0,n.jsx)("li",Object.assign({className:f},{children:(0,n.jsx)(_.k2,Object.assign({to:"/customers",className:({isActive:e})=>e?"activated":""},{children:(0,n.jsx)(I.XjL,{size:24})}))}))]}))})),N=({children:e})=>(0,n.jsxs)("div",Object.assign({className:"layout"},{children:[(0,n.jsx)("div",Object.assign({className:"navbar-content"},{children:(0,n.jsx)(p,{})})),(0,n.jsxs)("div",Object.assign({className:"main-content"},{children:[(0,n.jsx)("section",Object.assign({className:"sidebar-content"},{children:(0,n.jsx)(y,{})})),(0,n.jsx)("main",Object.assign({className:"content"},{children:e}))]}))]}));var A=t(8131);const w=({isAllowed:e,redirectPath:s="/",children:t})=>{const i=(0,T.Zp)();return(0,a.useEffect)((()=>{e||i(s,{replace:!0})}),[e,i,s]),e?t?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(T.sv,{}):null};var U=t(4222);const F=(0,a.lazy)((()=>Promise.all([t.e(874),t.e(512),t.e(27),t.e(674)]).then(t.bind(t,5674)))),V=(0,a.lazy)((()=>Promise.all([t.e(874),t.e(512),t.e(948)]).then(t.bind(t,7948)))),R=(0,a.lazy)((()=>Promise.all([t.e(874),t.e(713)]).then(t.bind(t,2713)))),L=(0,c.Ng)((e=>({selectedCustomer:e.customers.selectedCustomer})))((({selectedCustomer:e})=>(0,n.jsx)(A.Q,Object.assign({loading:null,persistor:S},{children:(0,n.jsx)(_.Kd,{children:(0,n.jsxs)(a.Suspense,Object.assign({fallback:(0,n.jsx)(U.A,{})},{children:[(0,n.jsx)(T.BV,{children:(0,n.jsx)(T.qh,{path:"/create-invoice",element:(0,n.jsx)(w,Object.assign({isAllowed:!!e},{children:(0,n.jsx)(F,{})}))})}),(0,n.jsxs)(T.BV,{children:[(0,n.jsx)(T.qh,{path:"/customers",element:(0,n.jsx)(N,{children:(0,n.jsx)(R,{})})}),(0,n.jsx)(T.qh,{path:"/",element:(0,n.jsx)(N,{children:(0,n.jsx)(V,{})})})]})]}))})})))),M=e=>{e&&e instanceof Function&&t.e(364).then(t.bind(t,364)).then((({getCLS:s,getFID:t,getFCP:n,getLCP:a,getTTFB:i})=>{s(e),t(e),n(e),a(e),i(e)}))};var D=t(1294);i.createRoot(document.getElementById("root")).render((0,n.jsx)(a.StrictMode,{children:(0,n.jsx)(c.Kq,Object.assign({store:x},{children:(0,n.jsx)(D.t,{children:(0,n.jsx)(L,{})})}))})),M()},4035:(e,s,t)=>{t.d(s,{CQ:()=>O,E1:()=>i,Es:()=>S,FQ:()=>m,G8:()=>C,Hu:()=>n,Pj:()=>r,T0:()=>h,Vu:()=>b,W:()=>l,Z4:()=>d,_w:()=>E,bs:()=>c,eq:()=>x,hw:()=>a,i_:()=>u,m5:()=>j,rG:()=>o,rL:()=>g,sA:()=>v,vw:()=>_});const n="FETCH_CUSTOMERS_REQUEST",a="FETCH_CUSTOMERS_SUCCESS",i="FETCH_CUSTOMERS_FAILURE",c="SAVE_CUSTOMER_REQUEST",r="SAVE_CUSTOMER_SUCCESS",l="SAVE_CUSTOMER_FAILURE",o="CUSTOMER_SELECTED",d="UPDATE_SELECTED_CUSTOMER",j="FETCH_INVOICES_REQUEST",u="FETCH_INVOICES_SUCCESS",g="FETCH_INVOICES_FAILURE",E="CREATE_NEW_INVOICE",b="UPDATE_NEW_INVOICE",O="SAVE_TO_DRAFT",h="DELETE_FROM_DRAFT",v="SAVE_INVOICE_REQUEST",C="SAVE_INVOICE_SUCCESS",m="SAVE_INVOICE_FAILURE",x="DELETE_INVOICE_REQUEST",S="DELETE_INVOICE_SUCCESS",_="DELETE_INVOICE_FAILURE"}},e=>{e.O(0,[672],(()=>{return s=3728,e(e.s=s);var s}));e.O()}]);
//# sourceMappingURL=main.877f61175735464db5e9.js.map